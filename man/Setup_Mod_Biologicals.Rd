% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/Setup_Biologicals.R
\name{Setup_Mod_Biologicals}
\alias{Setup_Mod_Biologicals}
\title{Setup biological inputs for estimation model}
\usage{
Setup_Mod_Biologicals(
  input_list,
  WAA,
  WAA_fish = NULL,
  WAA_srv = NULL,
  MatAA,
  addtocomp = 0,
  AgeingError = NULL,
  Use_M_prior = 0,
  M_prior = NA,
  fit_lengths = 0,
  SizeAgeTrans = NA,
  Selex_Type = "age",
  M_spec = "est_ln_M",
  M_ageblk_spec = "constant",
  M_regionblk_spec = "constant",
  M_yearblk_spec = "constant",
  M_sexblk_spec = "constant",
  Fixed_natmort = NULL,
  ...
)
}
\arguments{
\item{input_list}{List containing data, parameter, and map lists for the model.}

\item{WAA}{Numeric array of weight-at-age (spawning), dimensioned \code{[n_regions, n_years, n_ages, n_sexes]}.}

\item{WAA_fish}{Numeric array of weight-at-age (fishery), dimensioned \code{[n_regions, n_years, n_ages, n_sexes, n_fish_fleets]}.}

\item{WAA_srv}{Numeric array of weight-at-age (survey), dimensioned \code{[n_regions, n_years, n_ages, n_sexes, n_srv_fleets]}.}

\item{MatAA}{Numeric array of maturity-at-age, dimensioned \code{[n_regions, n_years, n_ages, n_sexes]}.}

\item{addtocomp}{Numeric value for a constant to add to composition data. Default is 0. Not used if logistic normal likelihoods are utilized.}

\item{AgeingError}{Numeric matrix or array representing the ageing error transition matrix.
  If a matrix (2D), dimensions should be \code{[number of modeled ages, number of observed composition ages]}
  and the ageing error is assumed to be constant over time.
  If an array (3D), dimensions should be \code{[number of years, number of modeled ages, number of observed composition ages]}
  allowing ageing error to vary by year.
  Defaults to an identity matrix (no ageing error) if not specified, assuming observed age bins exactly match modeled age bins.

  **Note:** If the observed age composition bins differ from the modeled age bins
  (e.g., observed ages 2–10 while modeled ages are 1–10), the default identity matrix will cause a dimensional mismatch
  and misalignment. In such cases, users should provide a custom ageing error matrix mapping modeled to observed ages.
  For example, to drop the first modeled age bin, supply a matrix like \code{diag(1, 10)[, 2:10]}.
  This ensures proper alignment of age bins for likelihood calculations.}

\item{Use_M_prior}{Integer flag indicating whether to apply a natural mortality prior (\code{0} = no, \code{1} = yes).}

\item{M_prior}{Numeric vector of length two giving the mean (in normal space) and standard deviation of the natural mortality prior.}

\item{fit_lengths}{Integer flag indicating whether to fit length data (\code{0} = no, \code{1} = yes).}

\item{SizeAgeTrans}{Numeric array of size-at-age transition probabilities, dimensioned \code{[n_regions, n_years, n_lens, n_ages, n_sexes]}.}

\item{Selex_Type}{Character string specifying whether selectivity is age or length-based. Default is age-based
\itemize{
  \item \code{"length"}: Length-based selectivity.
  \item \code{"age"}: Age-based selectivity
}}

\item{M_spec}{Character string specifying natural mortality estimation approach. Defaults to \code{est_ln_M}, which estimates mortality to be invariant, if blocks are not specified. Options:
\itemize{
  \item \code{"est_ln_M"}: Estimates natural mortality across the defined natural mortality blocks.
  \item \code{"fix"}: Fix all natural mortality parameters using the provided array.
}}

\item{M_ageblk_spec}{Specification of age blocking for natural mortality estimation.
Either a character string ("constant") or a list of index vectors, e.g., \code{list(1:10, 11:30)}, which specifies 2 age blocks for M.}

\item{M_regionblk_spec}{Specification of regional blocking for natural mortality.
Either a character string ("constant") or a list of index vectors, e.g., \code{list(1:3, 4:5)}, which specifies 2 region blocks for M.}

\item{M_yearblk_spec}{Specification of year blocking for natural mortality.
Either a character string ("constant") or a list of index vectors, e.g., \code{list(1:10, 11:30)}, which specifies 2 year blocks for M.}

\item{M_sexblk_spec}{Specification of sex blocking for natural mortality.
Either a character string ("constant") or a list of index vectors, e.g., \code{list(1:2)}, which specifies sex-invariant M.}

\item{Fixed_natmort}{Numeric array of fixed natural mortality values, dimensioned \code{[n_regions, n_years, n_ages, n_sexes]}. Required if \code{M_spec = "fix"}.}

\item{...}{Additional arguments for starting values such as \code{ln_M} and \code{M_offset.} These are ignored if \code{M_spec = fix}.}
}
\description{
Setup biological inputs for estimation model
}
